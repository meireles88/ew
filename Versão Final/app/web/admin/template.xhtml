<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Orçamento Participativo - <ui:insert name="title">Default Title</ui:insert></title>
        <h:outputStylesheet name="css/jsfcrud.css"/>
          <link rel="shortcut icon" href="/EW-FINAL/faces/resources/images/favicon.ico" />
    </h:head>

    <h:body>

        <div id="wrap">
        <div class="logo">
         <a href="/EW-FINAL/faces/admin/index.xhtml"></a>
        </div>


        <ui:fragment rendered="#{request.getSession(false).getAttribute('userSession').isLoggedIn()}">

            <h:form class="right" style="float: right;">
                <span class="auth_info">
                    <h:outputText value="Autenticado como: "/>
                    <h:outputText styleClass="bold" value="#{request.getSession(false).getAttribute('userSession').getUser().getUsername()}"/>
                </span>
                <p:commandLink action="#{autenticacao.logout}" styleClass="logout_link">
                    <span class="ui-icon ui-icon-power" ></span><span>Terminar Sessão</span>
                </p:commandLink>
            </h:form>
            <h:form>
                <p:megaMenu>

                    <p:menuitem url="/faces/admin/index.xhtml?faces-redirect=true" value="Index" icon="ui-icon-home" style="margin-right: 10px"/>



                    <p:submenu label="Conta" icon="ui-icon-person" style="margin-right: 5px">

                        <p:column>
                            <p:submenu label="Gestão do Perfil">
                                <p:menuitem value="Consultar Perfil" action="#{userController.view2(request.getSession(false).getAttribute('userSession').getUser())}"/>
                                <p:menuitem value="Editar Perfil" action="#{userController.edit2(request.getSession(false).getAttribute('userSession').getUser())}" />
                            </p:submenu>
                        </p:column>

                    </p:submenu>

                    <p:menuitem url="/faces/admin/user/List.xhtml?faces-redirect=true" value="Gestão de Utilizadores" icon="ui-icon-contact" style="margin-right: 5px"/>

                    <p:menuitem url="/faces/admin/ideia/List.xhtml?faces-redirect=true" value="Gestão de Ideias" icon="ui-icon-clipboard" style="margin-right: 5px"/>

                    <p:submenu label="Gestão de Categorias/Grupos Orçamentais/Tags" icon="ui-icon-tag" style="margin-right: 5px">

                        <p:column>
                            <p:submenu label="Categorias">
                                <p:menuitem value="Listar" url="/faces/admin/categoria/List.xhtml?faces-redirect=true"/>
                                <p:menuitem value="Criar" action="#{categoriaController.prepareCreateFromMenu()}"/>
                            </p:submenu>
                        </p:column>
                        <p:column>
                            <p:submenu label="Grupos Orçamentais">
                                <p:menuitem value="Listar" url="/faces/admin/grupoorcamental/List.xhtml?faces-redirect=true"/>
                                <p:menuitem value="Criar" action="#{grupoorcamentalController.prepareCreateFromMenu()}" />
                            </p:submenu>
                        </p:column>
                        <p:column>
                            <p:submenu label="Tags">
                                <p:menuitem value="Listar" url="/faces/admin/tag/List.xhtml?faces-redirect=true"/>
                            </p:submenu>
                        </p:column>

                    </p:submenu>



                </p:megaMenu>
            </h:form>

        </ui:fragment>
        <br/>



        <div class="body_container">
            <ui:insert name="body">             
                Default Body
            </ui:insert>
        </div>
        </div>

    </h:body>

</html>
